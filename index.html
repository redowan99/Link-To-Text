<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Text Editor</title>
    <style>
        /* Modern reset for full-screen height */
        html, body { 
            height: 100%; 
            margin: 0; 
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f0f2f5;
        }

        /* Container that stretches to fill screen */
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            max-width: 900px;
            margin: 0 auto;
            padding: 15px;
            box-sizing: border-box;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 5px;
            background: white;
            border-radius: 10px 10px 0 0;
            border-bottom: 1px solid #eee;
        }

        .header-title { font-weight: bold; color: #555; padding-left: 10px; }

        /* The Responsive Textarea */
        #text-box { 
            flex-grow: 1; /* Makes the box fill all remaining space */
            width: 100%;
            border: none;
            border-radius: 0 0 10px 10px;
            padding: 20px;
            font-size: 16px; /* Prevents iOS zoom-on-focus */
            line-height: 1.6;
            color: #333;
            resize: none; /* No manual resize needed as it's full-screen */
            box-sizing: border-box;
            outline: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .btn-copy { 
            background: #007bff; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            border-radius: 6px; 
            font-weight: 600; 
            cursor: pointer;
            margin-right: 10px;
        }
        
        .status { font-size: 0.85rem; color: #28a745; display: none; margin-right: 10px; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <span class="header-title">Notes</span>
        <div>
            <span id="status" class="status">Copied!</span>
            <button class="btn-copy" onclick="copyText()">Copy</button>
        </div>
    </div>

    <textarea id="text-box" placeholder="Your text will appear here..."></textarea>
</div>

<script>
    const textBox = document.getElementById('text-box');
    const status = document.getElementById('status');

    // Robust way to get 'text' parameter while preserving '+' signs
    function getRawParameter(name) {
        const search = window.location.search;
        const regex = new RegExp(`[?&]${name}=([^&#]*)`);
        const match = search.match(regex);
        if (!match) return null;
        
        // We decode it manually. 
        // We don't use URLSearchParams because it converts + to space.
        return decodeURIComponent(match[1]);
    }

    const content = getRawParameter('text');
    if (content !== null) {
        textBox.value = content;
    }

    function copyText() {
        textBox.select();
        // For mobile support
        textBox.setSelectionRange(0, 99999); 
        navigator.clipboard.writeText(textBox.value);
        
        status.style.display = 'inline';
        setTimeout(() => { status.style.display = 'none'; }, 2000);
    }
</script>

</body>
</html>
